<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="/styles2.css">
    <link rel="stylesheet" type="text/css" href="/menuStyles.css">
    <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
    <title>list</title>
</head>
<body>

<h1 id="logo"><a id="home_like" href="/">동아리 관리 시스템</a></h1>
<nav id="main-nav">
    <div id="menu-items">
        <button onclick="boardPagingReq()" id="boardPagingBtn">자유게시판</button>
        <button onclick="rentReq()" id="rentBtn">대여 시스템</button>
        <button onclick="todoReq()" id="todoBtn">일정 관리</button>
        <button onclick="scoreReq()" id="scoreBtn">동아리 평가</button>
        <button onclick="clubReq()" id="clubBtn">동아리 현황</button>
        <button th:if="${id != 'anonymousUser'}" onclick="favoriteReq()" id="favoriteBtn">즐겨찾기 조회</button>
    </div>
</nav>


<button onclick="scoreAddReq()">평가항목 추가</button>
<button onclick="plusScoreAddReq()">가산점 부여</button>


<hr>
<div id="null-info" th:if="${clubRatingDTO == null}">
    <h1>현재 등록된 평가항목이 없습니다.</h1>
</div>



<div id="tables" th:if="${clubRatingDTO != null}">
    <table class="part-table">
        <tr>
            <th>평가 항목</th>
        </tr>
        <tr>
            <th>평가 배점</th>
        </tr>
        <tr th:each="club : ${clubRatingDTO.clubDTOList}">
            <td th:text="${club.clubName}"></td>
        </tr>
    </table>
    <table class="part-table">
        <tr>
            <th colspan="2" th:each="scoreDTO : ${clubRatingDTO.updateScoreList}" th:text="${scoreDTO.title}"></th>
        </tr>
        <tr>
            <th th:each="head : ${clubRatingDTO.headText}" th:text="${head}"></th>
        </tr>

        <tr>
        <span th:each="scoreDTO : ${clubRatingDTO.updateScoreList}">
            <!-- 열1의 내용    -->
            <td class="include-table-td">
                <table class="inner-table">
                    <tr th:each="score : ${scoreDTO.totalScoreList}">
                        <td th:text="${score}"></td>
                    </tr>
                </table>
            </td>

            <!-- 열2의 내용    -->
            <td class="include-table-td">
                <table class="inner-table">
                    <tr th:each="score : ${scoreDTO.totalPlusScoreList}">
                        <td th:text="${score}"></td>
                    </tr>
                </table>
            </td>
        </span>
        </tr>

    </table>
    <table class="part-table">
        <tr>
            <th colspan="3">총점</th>
        </tr>
        <tr>
            <th colspan="3">동아리 지원금 : 80점</th>
        </tr>
        <tr th:each="score: ${clubRatingDTO.totalScoreList}">
            <td class="total-score" th:text="${score}" colspan="3"></td>
        </tr>

    </table>

</div>

</body>

<script>

    const scoreAddReq = () => {
        location.href="/todo/admin/add";
    }

    const plusScoreAddReq = () => {
        location.href="/score/plusScoreAdd";
    }

    const boardPagingReq = () => {
        location.href="/board/paging";
    }

    const favoriteReq = () => {
        location.href="/favorite/list"
    }

    const rentReq = () => {
        location.href="/rental/"
    }

    const clubReq = () => {
        location.href="/club/"
    }

    const todoReq = () => {
        // if (id.startsWith('admin')) {
        //     location.href="/todo/admin";
        // } else {
        //     location.href="/todo/user";
        // }
        location.href="/todo/user";
    }


    const scoreReq = () => {
        location.href="/score/";
    }


</script>
</html>